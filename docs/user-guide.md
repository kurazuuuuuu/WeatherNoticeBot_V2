# Discord Weather Bot ユーザーガイド 🌤️

このガイドでは、Discord Weather Bot の使用方法について詳しく説明します。

## 📋 目次

1. [基本的な使い方](#基本的な使い方)
2. [コマンド詳細](#コマンド詳細)
3. [地域の指定方法](#地域の指定方法)
4. [通知機能の設定](#通知機能の設定)
5. [よくある質問](#よくある質問)

## 基本的な使い方

### 初回利用時の設定

1. **地域の設定**

   ```
   /set-location 東京都
   ```

   まず最初に、あなたの住んでいる地域を設定してください。これにより、地域を指定せずにコマンドを使用できるようになります。

2. **天気情報の確認**

   ```
   /weather
   ```

   設定した地域の現在の天気情報を表示します。

3. **天気予報の確認**
   ```
   /forecast
   ```
   設定した地域の 5 日間の天気予報を表示します。

## コマンド詳細

### 🌤️ 天気情報コマンド

#### `/weather [地域名]`

現在の天気情報を表示します。

**使用例:**

```
/weather
/weather 大阪府
/weather 北海道札幌市
```

**表示される情報:**

- 現在の天気状況
- 気温
- 湿度
- 風速・風向
- 降水確率
- AI 生成のポジティブメッセージ

#### `/forecast [地域名]`

5 日間の天気予報を表示します。

**使用例:**

```
/forecast
/forecast 福岡県
/forecast 沖縄県那覇市
```

**表示される情報:**

- 日付別の天気予報
- 最高気温・最低気温
- 降水確率
- 天気の詳細説明

#### `/weather-alerts [地域名]`

気象警報・注意報を表示します。

**使用例:**

```
/weather-alerts
/weather-alerts 静岡県
```

**表示される情報:**

- 発表中の警報・注意報
- 発表時刻
- 対象地域
- 警報レベル（重要度）

### ⚙️ ユーザー設定コマンド

#### `/set-location <地域名>`

あなたの地域を設定します。

**使用例:**

```
/set-location 東京都
/set-location 神奈川県横浜市
/set-location 京都府京都市
```

**対応する地域形式:**

- 都道府県名: `東京都`、`大阪府`
- 市区町村名: `横浜市`、`名古屋市`
- 詳細地域: `東京都新宿区`、`大阪府大阪市`

#### `/schedule-weather <時間>`

指定した時間に天気情報を DM で受け取る設定をします。

**使用例:**

```
/schedule-weather 7
/schedule-weather 18
```

**設定可能な時間:**

- 0〜23 時の間で指定
- 毎日指定した時間に DM で天気情報が送信されます
- AI 生成のポジティブメッセージも含まれます

#### `/unschedule-weather`

定時通知を停止します。

**使用例:**

```
/unschedule-weather
```

#### `/my-settings`

現在の設定を確認します。

**使用例:**

```
/my-settings
```

**表示される情報:**

- 設定済みの地域
- 通知スケジュール
- 通知の有効/無効状態

### 👑 管理者コマンド

#### `/weather-config`

サーバーの設定を管理します（管理者専用）。

#### `/stats`

ボットの統計情報を表示します（管理者専用）。

## 地域の指定方法

### 対応している地域形式

1. **都道府県名**

   - `東京都`、`大阪府`、`北海道`、`沖縄県`

2. **市区町村名**

   - `札幌市`、`仙台市`、`横浜市`、`名古屋市`、`京都市`、`神戸市`、`福岡市`

3. **詳細地域**

   - `東京都新宿区`、`大阪府大阪市北区`

4. **ひらがな・カタカナ**

   - `とうきょうと`、`おおさかふ`
   - `トウキョウト`、`オオサカフ`

5. **英語名**
   - `Tokyo`、`Osaka`、`Hokkaido`

### 地域検索のコツ

- **曖昧検索対応**: 完全一致でなくても、部分一致で検索できます
- **複数候補**: 複数の候補がある場合は、選択肢が表示されます
- **エラー時の対応**: 無効な地域名の場合、近い候補が提案されます

## 通知機能の設定

### 定時通知の設定手順

1. **地域を設定**

   ```
   /set-location あなたの地域
   ```

2. **通知時間を設定**

   ```
   /schedule-weather 7
   ```

   毎朝 7 時に天気情報が DM で送信されます。

3. **設定確認**
   ```
   /my-settings
   ```

### 通知内容

定時通知には以下の情報が含まれます：

- 現在の天気情報
- 今日の天気予報
- AI 生成のポジティブメッセージ
- 気象警報がある場合はアラート情報

### 通知の停止

```
/unschedule-weather
```

## よくある質問

### Q: コマンドが表示されない

**A:** 以下を確認してください：

- ボットがサーバーに追加されているか
- 適切な権限が設定されているか
- スラッシュコマンドの同期に時間がかかる場合があります（最大 1 時間）

### Q: 地域が見つからない

**A:** 以下を試してください：

- 都道府県名で検索: `東京都`、`大阪府`
- ひらがなで検索: `とうきょうと`
- 市名で検索: `横浜市`、`名古屋市`

### Q: 通知が来ない

**A:** 以下を確認してください：

- `/my-settings`で設定を確認
- DM の受信設定を確認
- ボットからの DM を許可しているか

### Q: AI メッセージが表示されない

**A:** AI 機能が利用できない場合でも、基本的な天気情報は表示されます。これは正常な動作です。

### Q: 天気情報が古い

**A:** 気象庁 API から最新の情報を取得しています。更新頻度は気象庁の更新スケジュールに依存します。

### Q: エラーが発生した

**A:** 一時的な問題の可能性があります：

- 少し時間をおいて再試行
- 継続する場合は管理者に連絡

## 🎯 使用のコツ

### 効率的な使い方

1. **初回設定を完了する**

   - 地域設定により、毎回地域を指定する必要がなくなります

2. **定時通知を活用する**

   - 毎日決まった時間に天気情報を受け取れます

3. **警報情報を確認する**

   - 悪天候が予想される日は`/weather-alerts`で詳細を確認

4. **予報を活用する**
   - `/forecast`で週間の天気を把握し、予定を立てる

### 便利な使用パターン

- **朝の習慣**: 定時通知で毎朝の天気をチェック
- **外出前**: `/weather`で現在の状況を確認
- **週末の計画**: `/forecast`で週間予報をチェック
- **旅行前**: 目的地の天気を`/weather 地域名`で確認

## 📚 関連ドキュメント

より詳細な情報については、以下のドキュメントも参照してください：

- **[コマンドリファレンス](command-reference.md)** - 全コマンドの詳細な説明
- **[セットアップガイド](setup-guide.md)** - ボットの導入・設定方法
- **[トラブルシューティングガイド](troubleshooting-guide.md)** - 問題解決方法
- **[デプロイメントガイド](deployment.md)** - 本番環境での運用方法
- **[環境変数設定ガイド](environment-variables.md)** - 詳細な設定方法

## 📞 サポート

問題や質問がある場合は：

1. このガイドの「よくある質問」を確認
2. [トラブルシューティングガイド](troubleshooting-guide.md)を参照
3. [コマンドリファレンス](command-reference.md)で詳細な使用方法を確認
4. サーバー管理者に連絡
5. ボット開発者に問い合わせ

## 🔄 定期的なメンテナンス

ボットを快適に使用するために：

### ユーザー側でできること

- 定期的に `/my-settings` で設定を確認
- 不要になった通知設定は `/unschedule-weather` で停止
- 引っ越しなどで地域が変わった場合は `/set-location` で更新

### 管理者が行うべきこと

- 定期的に `/stats` でボットの状態を確認
- `/weather-config` でサーバー設定を最適化
- ユーザーからの問い合わせに対応

---

このガイドが役立つことを願っています！天気情報を活用して、素晴らしい一日をお過ごしください 🌈
